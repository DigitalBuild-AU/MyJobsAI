<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Listings | MyJobsAI</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="jobListingsStyle.css">
</head>
<body>
  <div id="filterSidebar" style="float: left; width: 200px; margin-right: 20px;">
    <h3>Filter Listings</h3>
    <form id="filterForm">
      <div class="form-group">
        <label for="filterLocation">Location</label>
        <input type="text" class="form-control mb-3" id="filterLocation" placeholder="Enter location">
      </div>
      <div class="form-group">
        <label for="filterJobType">Job Type</label>
        <select class="form-control mb-3" id="filterJobType">
          <option value="">Any</option>
          <option value="Full-Time">Full-Time</option>
          <option value="Contract">Contract</option>
          <option value="Temp">Temp</option>
          <option value="Casual">Casual</option>
          <option value="Part Time">Part Time</option>
        </select>
      </div>
      <div class="form-group">
        <label for="filterKeywords">Keywords</label>
        <input type="text" class="form-control mb-3" id="filterKeywords" placeholder="Enter keywords">
      </div>
      <button type="submit" class="btn btn-primary mb-3">Apply Filters</button>
    </form>
  </div>
  <div class="container mt-4" style="margin-left: 220px;">
    <h2>Add New Job Listing</h2>
    <form id="addJobListingForm" class="d-flex flex-column">
      <div class="form-group">
        <label for="jobURL">Job URL</label>
        <input type="url" class="form-control mb-3" id="jobURL" placeholder="Enter job URL">
        <button type="button" class="btn btn-primary mb-3" id="fetchJobInfo">Fetch Job Info</button>
      </div>
      <input type="text" class="form-control mb-3" id="jobTitle" placeholder="Job Title" required>
      <input type="text" class="form-control mb-3" id="company" placeholder="Company" required>
      <input type="text" class="form-control mb-3" id="location" placeholder="Location" required>
      <textarea class="form-control mb-3" id="jobDescription" placeholder="Job Description"></textarea>
      <!-- Job Type Dropdown -->
      <div class="form-group">
        <label for="jobType">Job Type</label>
        <select class="form-control mb-3" id="jobType">
          <option value="Full-Time">Full-Time</option>
          <option value="Contract">Contract</option>
          <option value="Temp">Temp</option>
          <option value="Casual">Casual</option>
          <option value='Part Time'>Part Time</option>
        </select>
      </div>
      <!-- Salary Amount Input -->
      <div class="form-group">
        <label for="salaryAmount">Salary Amount</label>
        <input type="number" class="form-control mb-3" id="salaryAmount" placeholder="Enter salary amount">
      </div>
      <!-- Salary Period Radios -->
      <div class="form-group">
        <label>Salary Period</label>
        <div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="salaryPeriod" id="salaryPeriodHour" value="per hour">
            <label class="form-check-label mb-3" for="salaryPeriodHour">Per Hour</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="salaryPeriod" id="salaryPeriodYear" value="per year">
            <label class="form-check-label mb-3" for="salaryPeriodYear">Per Year</label>
          </div>
        </div>
      </div>
      <!-- '+' Super Checkbox -->
      <div class="form-group form-check">
        <input type="checkbox" class="form-check-input mb-3" id="includesSuper">
        <label class="form-check-label" for="includesSuper">+ Super</label>
      </div>
      <!-- Status Dropdown -->
      <div class="form-group">
          <label for="status">Status</label>
          <select class="form-control mb-3" id="status">
              <option value="To Apply">To Apply</option>
              <option value="Applied">Applied</option>
              <option value="Interviewing">Interviewing</option>
              <option value="Offered">Offered</option>
          </select>
      </div>
      <button type="submit" class="btn btn-success mb-3">Add Listing</button>
    </form>
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th scope="col" class="table-header" data-column-name="jobTitle">Job Title</th>
            <th scope="col" class="table-header" data-column-name="company">Company</th>
            <th scope="col" class="table-header" data-column-name="location">Location</th>
            <th scope="col" class="table-header" data-column-name="jobDescription">Job Description</th>
          </tr>
        </thead>
        <tbody id='listingsContainer'>
          <!-- Job listings will be dynamically injected here using JavaScript -->
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src='jobListingsApp.js'></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
              document.body.insertAdjacentHTML('afterbegin', data);
              console.log('Navbar dynamically added.'); // gpt_pilot_debugging_log
            })
            .catch(error => {
              console.error('Failed to load navbar:', error); // gpt_pilot_debugging_log
            });

        const bootstrapScriptTag = document.querySelector('script[src*="bootstrap.bundle.min.js"]');
        if (bootstrapScriptTag) bootstrapScriptTag.remove();
        const newBootstrapScript = document.createElement('script');
        newBootstrapScript.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js';
        newBootstrapScript.onload = () => console.log('Bootstrap 5 script loaded successfully.'); // gpt_pilot_debugging_log
        newBootstrapScript.onerror = (error) => console.error('Bootstrap 5 script failed to load:', error); // gpt_pilot_debugging_log
        document.body.appendChild(newBootstrapScript);
    });
  </script>
</body>
</html>
